# Gallery Scraper

–ü—Ä–æ–µ–∫—Ç –¥–ª—è —Å–±–æ—Ä–∞ —Ç–æ–≤–∞—Ä–æ–≤ —Å —Å–∞–π—Ç–∞ [auchan.ru](https://www.auchan.ru) –ø–æ –∑–∞–¥–∞–Ω–Ω—ã–º –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Puppeteer –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞, SQLite –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º —á–µ—Ä–µ–∑ UUID.

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

* –ü–∞—Ä—Å–∏–Ω–≥ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
* –°–±–æ—Ä –Ω–∞–∑–≤–∞–Ω–∏—è, —Ü–µ–Ω—ã, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ —Å—Å—ã–ª–∫–∏
* –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ SQLite —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
* –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

---

## ‚ôªÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
npm install
```

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

* `scraper.js` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞—Ä—Å–µ—Ä
* `db.js` ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö SQLite
* `schema.sql` ‚Äî SQL-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü
* `scraper.db` ‚Äî —Ñ–∞–π–ª –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

---

## üåê –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–°–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ, –µ—Å–ª–∏ `scraper.db` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é:

```bash
sqlite3 scraper.db < schema.sql
```

---

## ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

```sql
INSERT INTO category_urls (id, name, category_url) VALUES
('uuid-1', '–ö–æ–ø—á—ë–Ω—ã–µ –¥–µ–ª–∏–∫–∞—Ç–µ—Å—ã', 'https://www.auchan.ru/catalog/...');
```

–ß—Ç–æ–±—ã –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é:

```sql
UPDATE category_urls SET is_active = 0 WHERE id = 'uuid-1';
```

---

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫

```bash
node scraper.js
```

–ë—Ä–∞—É–∑–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –≤ —Ä–µ–∂–∏–º–µ —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è Puppeteer:

```bash
chrome --remote-debugging-port=9222
```

---

## üíæ –¢–∞–±–ª–∏—Ü—ã

### `category_urls`

| –ü–æ–ª–µ          | –¢–∏–ø      | –û–ø–∏—Å–∞–Ω–∏–µ               |
| ------------- | -------- | ---------------------- |
| id            | TEXT     | UUID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏         |
| name          | TEXT     | –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏     |
| category\_url | TEXT     | URL —Å—Ç—Ä–∞–Ω–∏—Ü—ã           |
| is\_active    | BOOLEAN  | –ê–∫—Ç–∏–≤–Ω–∞/–Ω–µ–∞–∫—Ç–∏–≤–Ω–∞      |
| last\_checked | DATETIME | –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±—Ö–æ–¥–∞ |

### `gallery_products`

| –ü–æ–ª–µ         | –¢–∏–ø      | –û–ø–∏—Å–∞–Ω–∏–µ              |
| ------------ | -------- | --------------------- |
| id           | TEXT     | UUID —Ç–æ–≤–∞—Ä–∞           |
| title        | TEXT     | –ù–∞–∑–≤–∞–Ω–∏–µ              |
| product\_url | TEXT     | –°—Å—ã–ª–∫–∞ –Ω–∞ —Ç–æ–≤–∞—Ä       |
| image\_url   | TEXT     | –°—Å—ã–ª–∫–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ |
| data\_upload | DATETIME | –ö–æ–≥–¥–∞ –¥–æ–±–∞–≤–ª–µ–Ω        |
| is\_active   | BOOLEAN  | –ê–∫—Ç–∏–≤–µ–Ω –ª–∏            |
| category\_id | TEXT     | –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏  |

### `gallery_product_prices`

| –ü–æ–ª–µ         | –¢–∏–ø      | –û–ø–∏—Å–∞–Ω–∏–µ             |
| ------------ | -------- | -------------------- |
| id           | INTEGER  | –ê–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç        |
| product\_url | TEXT     | –°—Å—ã–ª–∫–∞ –Ω–∞ —Ç–æ–≤–∞—Ä      |
| price        | REAL     | –¶–µ–Ω–∞ —Ç–æ–≤–∞—Ä–∞          |
| updated\_at  | DATETIME | –ö–æ–≥–¥–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–æ      |
| category\_id | TEXT     | –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ |

---

## üëç –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äî –ø—Ä–æ–≤–µ—Ä—å —Å—Ö–µ–º—É –ë–î –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–¥–∞. –í—Å–µ –ø–æ–ª—è –¥–æ–ª–∂–Ω—ã —Å—Ç—Ä–æ–≥–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å.

---

¬© 2025 Gallery Scraper
